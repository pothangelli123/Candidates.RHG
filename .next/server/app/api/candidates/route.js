/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/candidates/route";
exports.ids = ["app/api/candidates/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcandidates%2Froute&page=%2Fapi%2Fcandidates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcandidates%2Froute.ts&appDir=%2FUsers%2Frhgm4%2FDocuments%2FGitHub%2FCandidates.RHG%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frhgm4%2FDocuments%2FGitHub%2FCandidates.RHG&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcandidates%2Froute&page=%2Fapi%2Fcandidates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcandidates%2Froute.ts&appDir=%2FUsers%2Frhgm4%2FDocuments%2FGitHub%2FCandidates.RHG%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frhgm4%2FDocuments%2FGitHub%2FCandidates.RHG&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_rhgm4_Documents_GitHub_Candidates_RHG_src_app_api_candidates_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/candidates/route.ts */ \"(rsc)/./src/app/api/candidates/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/candidates/route\",\n        pathname: \"/api/candidates\",\n        filename: \"route\",\n        bundlePath: \"app/api/candidates/route\"\n    },\n    resolvedPagePath: \"/Users/rhgm4/Documents/GitHub/Candidates.RHG/src/app/api/candidates/route.ts\",\n    nextConfigOutput,\n    userland: _Users_rhgm4_Documents_GitHub_Candidates_RHG_src_app_api_candidates_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZjYW5kaWRhdGVzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZjYW5kaWRhdGVzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY2FuZGlkYXRlcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnJoZ200JTJGRG9jdW1lbnRzJTJGR2l0SHViJTJGQ2FuZGlkYXRlcy5SSEclMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGcmhnbTQlMkZEb2N1bWVudHMlMkZHaXRIdWIlMkZDYW5kaWRhdGVzLlJIRyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDNEI7QUFDekc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9yaGdtNC9Eb2N1bWVudHMvR2l0SHViL0NhbmRpZGF0ZXMuUkhHL3NyYy9hcHAvYXBpL2NhbmRpZGF0ZXMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NhbmRpZGF0ZXMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jYW5kaWRhdGVzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jYW5kaWRhdGVzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3JoZ200L0RvY3VtZW50cy9HaXRIdWIvQ2FuZGlkYXRlcy5SSEcvc3JjL2FwcC9hcGkvY2FuZGlkYXRlcy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcandidates%2Froute&page=%2Fapi%2Fcandidates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcandidates%2Froute.ts&appDir=%2FUsers%2Frhgm4%2FDocuments%2FGitHub%2FCandidates.RHG%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frhgm4%2FDocuments%2FGitHub%2FCandidates.RHG&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/candidates/route.ts":
/*!*****************************************!*\
  !*** ./src/app/api/candidates/route.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./src/lib/supabase.ts\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n\n// GET all candidates\nasync function GET() {\n    try {\n        const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.getSupabaseClient)();\n        const { data, error } = await supabase.from(\"candidates\").select(\"*\").order(\"created_at\", {\n            ascending: false\n        });\n        if (error) throw error;\n        // Map the database fields to the Candidate interface\n        const mappedData = (data || []).map((item)=>({\n                id: item.id,\n                name: item.name,\n                email: item.email,\n                phone: item.phone || undefined,\n                position: item.position,\n                skills: item.skills,\n                experience: item.experience,\n                education: item.education,\n                resume: item.resume || undefined,\n                status: item.status,\n                notes: item.notes || undefined,\n                createdAt: item.created_at,\n                updatedAt: item.updated_at\n            }));\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            success: true,\n            candidates: mappedData\n        });\n    } catch (error) {\n        console.error(\"Error fetching candidates:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Failed to fetch candidates\"\n        }, {\n            status: 500\n        });\n    }\n}\n// POST a new candidate\nasync function POST(request) {\n    try {\n        console.log(\"Received request to add candidate\");\n        // Get candidate data from request body\n        const candidateData = await request.json();\n        console.log(\"Candidate data:\", JSON.stringify(candidateData));\n        // Validate required fields\n        const requiredFields = [\n            'name',\n            'email',\n            'position',\n            'skills',\n            'experience',\n            'education',\n            'status'\n        ];\n        for (const field of requiredFields){\n            if (!candidateData[field]) {\n                console.log(`Missing required field: ${field}`);\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                    success: false,\n                    message: `Missing required field: ${field}`\n                }, {\n                    status: 400\n                });\n            }\n        }\n        // Check that skills is an array\n        if (!Array.isArray(candidateData.skills)) {\n            console.log(\"Skills is not an array:\", candidateData.skills);\n            // If it's a string, try to convert it to an array\n            if (typeof candidateData.skills === 'string') {\n                try {\n                    candidateData.skills = JSON.parse(candidateData.skills);\n                    console.log(\"Parsed skills from JSON string:\", candidateData.skills);\n                } catch (e) {\n                    console.log(\"Failed to parse skills as JSON, treating as single item\");\n                    candidateData.skills = [\n                        candidateData.skills\n                    ];\n                }\n            } else {\n                console.log(\"Setting skills to empty array\");\n                candidateData.skills = [];\n            }\n        }\n        // Ensure experience is a number\n        if (typeof candidateData.experience !== 'number') {\n            console.log(\"Experience is not a number:\", candidateData.experience);\n            candidateData.experience = Number(candidateData.experience) || 0;\n            console.log(\"Converted experience to:\", candidateData.experience);\n        }\n        // Map from our client-side model to the database model\n        const dbCandidateData = {\n            name: candidateData.name,\n            email: candidateData.email,\n            phone: candidateData.phone || null,\n            position: candidateData.position,\n            skills: candidateData.skills || [],\n            experience: Number(candidateData.experience) || 0,\n            education: candidateData.education,\n            resume: candidateData.resume || null,\n            status: candidateData.status || 'new',\n            notes: candidateData.notes || null\n        };\n        console.log(\"Prepared database candidate data:\", JSON.stringify(dbCandidateData));\n        // Insert into database\n        const supabase = (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_0__.getSupabaseClient)();\n        // Try to get the table schema first to verify connection\n        const { data: schemaData, error: schemaError } = await supabase.from('candidates').select('*').limit(1);\n        if (schemaError) {\n            console.error('Error accessing candidates table:', schemaError);\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                success: false,\n                message: 'Failed to access candidates table',\n                error: schemaError.message,\n                details: schemaError\n            }, {\n                status: 500\n            });\n        }\n        console.log(\"Successfully connected to candidates table\");\n        // Now insert the candidate\n        const { data, error } = await supabase.from('candidates').insert(dbCandidateData).select('id').single();\n        if (error) {\n            console.error('Error inserting candidate:', error);\n            // Check for specific error types\n            if (error.code === '23502') {\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                    success: false,\n                    message: 'Missing required field in database',\n                    error: error.message,\n                    details: error\n                }, {\n                    status: 400\n                });\n            }\n            if (error.code === '23505') {\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                    success: false,\n                    message: 'A candidate with this information already exists',\n                    error: error.message,\n                    details: error\n                }, {\n                    status: 409\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                success: false,\n                message: 'Failed to add candidate',\n                error: error.message,\n                details: error\n            }, {\n                status: 500\n            });\n        }\n        console.log(\"Successfully added candidate with ID:\", data.id);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            success: true,\n            message: 'Candidate added successfully',\n            candidateId: data.id\n        });\n    } catch (error) {\n        console.error('Error in candidate API:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            success: false,\n            message: 'Internal server error',\n            error: error.message,\n            stack: error.stack\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3RCO0lBRUYsRUFBRSxPQUFPUixPQUFZO1FBQ25CMkIsUUFBUTNCLEtBQUssQ0FBQywyQkFBMkJBO1FBQ3pDLE9BQU9KLHFEQUFZQSxDQUFDNEIsSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1RXLFNBQVM7WUFDVHBDLE9BQU9BLE1BQU1vQyxPQUFPO1lBQ3BCZSxPQUFPbkQsTUFBTW1ELEtBQUs7UUFDcEIsR0FBRztZQUFFakMsUUFBUTtRQUFJO0lBQ25CO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yaGdtNC9Eb2N1bWVudHMvR2l0SHViL0NhbmRpZGF0ZXMuUkhHL3NyYy9hcHAvYXBpL2NhbmRpZGF0ZXMvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0U3VwYWJhc2VDbGllbnQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZSc7XG5pbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuXG4vLyBHRVQgYWxsIGNhbmRpZGF0ZXNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3VwYWJhc2UgPSBnZXRTdXBhYmFzZUNsaWVudCgpO1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNhbmRpZGF0ZXNcIilcbiAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgXG4gICAgLy8gTWFwIHRoZSBkYXRhYmFzZSBmaWVsZHMgdG8gdGhlIENhbmRpZGF0ZSBpbnRlcmZhY2VcbiAgICBjb25zdCBtYXBwZWREYXRhID0gKGRhdGEgfHwgW10pLm1hcChpdGVtID0+ICh7XG4gICAgICBpZDogaXRlbS5pZCxcbiAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgIGVtYWlsOiBpdGVtLmVtYWlsLFxuICAgICAgcGhvbmU6IGl0ZW0ucGhvbmUgfHwgdW5kZWZpbmVkLFxuICAgICAgcG9zaXRpb246IGl0ZW0ucG9zaXRpb24sXG4gICAgICBza2lsbHM6IGl0ZW0uc2tpbGxzLFxuICAgICAgZXhwZXJpZW5jZTogaXRlbS5leHBlcmllbmNlLFxuICAgICAgZWR1Y2F0aW9uOiBpdGVtLmVkdWNhdGlvbixcbiAgICAgIHJlc3VtZTogaXRlbS5yZXN1bWUgfHwgdW5kZWZpbmVkLFxuICAgICAgc3RhdHVzOiBpdGVtLnN0YXR1cyxcbiAgICAgIG5vdGVzOiBpdGVtLm5vdGVzIHx8IHVuZGVmaW5lZCxcbiAgICAgIGNyZWF0ZWRBdDogaXRlbS5jcmVhdGVkX2F0LFxuICAgICAgdXBkYXRlZEF0OiBpdGVtLnVwZGF0ZWRfYXRcbiAgICB9KSk7XG4gICAgXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBjYW5kaWRhdGVzOiBtYXBwZWREYXRhXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGNhbmRpZGF0ZXM6XCIsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiBcIkZhaWxlZCB0byBmZXRjaCBjYW5kaWRhdGVzXCIgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuLy8gUE9TVCBhIG5ldyBjYW5kaWRhdGVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCJSZWNlaXZlZCByZXF1ZXN0IHRvIGFkZCBjYW5kaWRhdGVcIik7XG4gICAgXG4gICAgLy8gR2V0IGNhbmRpZGF0ZSBkYXRhIGZyb20gcmVxdWVzdCBib2R5XG4gICAgY29uc3QgY2FuZGlkYXRlRGF0YSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnNvbGUubG9nKFwiQ2FuZGlkYXRlIGRhdGE6XCIsIEpTT04uc3RyaW5naWZ5KGNhbmRpZGF0ZURhdGEpKTtcbiAgICBcbiAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IFsnbmFtZScsICdlbWFpbCcsICdwb3NpdGlvbicsICdza2lsbHMnLCAnZXhwZXJpZW5jZScsICdlZHVjYXRpb24nLCAnc3RhdHVzJ107XG4gICAgZm9yIChjb25zdCBmaWVsZCBvZiByZXF1aXJlZEZpZWxkcykge1xuICAgICAgaWYgKCFjYW5kaWRhdGVEYXRhW2ZpZWxkXSkge1xuICAgICAgICBjb25zb2xlLmxvZyhgTWlzc2luZyByZXF1aXJlZCBmaWVsZDogJHtmaWVsZH1gKTtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBtZXNzYWdlOiBgTWlzc2luZyByZXF1aXJlZCBmaWVsZDogJHtmaWVsZH1gLFxuICAgICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayB0aGF0IHNraWxscyBpcyBhbiBhcnJheVxuICAgIGlmICghQXJyYXkuaXNBcnJheShjYW5kaWRhdGVEYXRhLnNraWxscykpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiU2tpbGxzIGlzIG5vdCBhbiBhcnJheTpcIiwgY2FuZGlkYXRlRGF0YS5za2lsbHMpO1xuICAgICAgLy8gSWYgaXQncyBhIHN0cmluZywgdHJ5IHRvIGNvbnZlcnQgaXQgdG8gYW4gYXJyYXlcbiAgICAgIGlmICh0eXBlb2YgY2FuZGlkYXRlRGF0YS5za2lsbHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY2FuZGlkYXRlRGF0YS5za2lsbHMgPSBKU09OLnBhcnNlKGNhbmRpZGF0ZURhdGEuc2tpbGxzKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlBhcnNlZCBza2lsbHMgZnJvbSBKU09OIHN0cmluZzpcIiwgY2FuZGlkYXRlRGF0YS5za2lsbHMpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJGYWlsZWQgdG8gcGFyc2Ugc2tpbGxzIGFzIEpTT04sIHRyZWF0aW5nIGFzIHNpbmdsZSBpdGVtXCIpO1xuICAgICAgICAgIGNhbmRpZGF0ZURhdGEuc2tpbGxzID0gW2NhbmRpZGF0ZURhdGEuc2tpbGxzXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTZXR0aW5nIHNraWxscyB0byBlbXB0eSBhcnJheVwiKTtcbiAgICAgICAgY2FuZGlkYXRlRGF0YS5za2lsbHMgPSBbXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgZXhwZXJpZW5jZSBpcyBhIG51bWJlclxuICAgIGlmICh0eXBlb2YgY2FuZGlkYXRlRGF0YS5leHBlcmllbmNlICE9PSAnbnVtYmVyJykge1xuICAgICAgY29uc29sZS5sb2coXCJFeHBlcmllbmNlIGlzIG5vdCBhIG51bWJlcjpcIiwgY2FuZGlkYXRlRGF0YS5leHBlcmllbmNlKTtcbiAgICAgIGNhbmRpZGF0ZURhdGEuZXhwZXJpZW5jZSA9IE51bWJlcihjYW5kaWRhdGVEYXRhLmV4cGVyaWVuY2UpIHx8IDA7XG4gICAgICBjb25zb2xlLmxvZyhcIkNvbnZlcnRlZCBleHBlcmllbmNlIHRvOlwiLCBjYW5kaWRhdGVEYXRhLmV4cGVyaWVuY2UpO1xuICAgIH1cblxuICAgIC8vIE1hcCBmcm9tIG91ciBjbGllbnQtc2lkZSBtb2RlbCB0byB0aGUgZGF0YWJhc2UgbW9kZWxcbiAgICBjb25zdCBkYkNhbmRpZGF0ZURhdGEgPSB7XG4gICAgICBuYW1lOiBjYW5kaWRhdGVEYXRhLm5hbWUsXG4gICAgICBlbWFpbDogY2FuZGlkYXRlRGF0YS5lbWFpbCxcbiAgICAgIHBob25lOiBjYW5kaWRhdGVEYXRhLnBob25lIHx8IG51bGwsXG4gICAgICBwb3NpdGlvbjogY2FuZGlkYXRlRGF0YS5wb3NpdGlvbixcbiAgICAgIHNraWxsczogY2FuZGlkYXRlRGF0YS5za2lsbHMgfHwgW10sXG4gICAgICBleHBlcmllbmNlOiBOdW1iZXIoY2FuZGlkYXRlRGF0YS5leHBlcmllbmNlKSB8fCAwLFxuICAgICAgZWR1Y2F0aW9uOiBjYW5kaWRhdGVEYXRhLmVkdWNhdGlvbixcbiAgICAgIHJlc3VtZTogY2FuZGlkYXRlRGF0YS5yZXN1bWUgfHwgbnVsbCxcbiAgICAgIHN0YXR1czogY2FuZGlkYXRlRGF0YS5zdGF0dXMgfHwgJ25ldycsXG4gICAgICBub3RlczogY2FuZGlkYXRlRGF0YS5ub3RlcyB8fCBudWxsLFxuICAgIH07XG4gICAgXG4gICAgY29uc29sZS5sb2coXCJQcmVwYXJlZCBkYXRhYmFzZSBjYW5kaWRhdGUgZGF0YTpcIiwgSlNPTi5zdHJpbmdpZnkoZGJDYW5kaWRhdGVEYXRhKSk7XG4gICAgXG4gICAgLy8gSW5zZXJ0IGludG8gZGF0YWJhc2VcbiAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQ2xpZW50KCk7XG4gICAgXG4gICAgLy8gVHJ5IHRvIGdldCB0aGUgdGFibGUgc2NoZW1hIGZpcnN0IHRvIHZlcmlmeSBjb25uZWN0aW9uXG4gICAgY29uc3QgeyBkYXRhOiBzY2hlbWFEYXRhLCBlcnJvcjogc2NoZW1hRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY2FuZGlkYXRlcycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5saW1pdCgxKTtcbiAgICAgIFxuICAgIGlmIChzY2hlbWFFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYWNjZXNzaW5nIGNhbmRpZGF0ZXMgdGFibGU6Jywgc2NoZW1hRXJyb3IpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gYWNjZXNzIGNhbmRpZGF0ZXMgdGFibGUnLFxuICAgICAgICBlcnJvcjogc2NoZW1hRXJyb3IubWVzc2FnZSxcbiAgICAgICAgZGV0YWlsczogc2NoZW1hRXJyb3JcbiAgICAgIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKFwiU3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCB0byBjYW5kaWRhdGVzIHRhYmxlXCIpO1xuICAgIFxuICAgIC8vIE5vdyBpbnNlcnQgdGhlIGNhbmRpZGF0ZVxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY2FuZGlkYXRlcycpXG4gICAgICAuaW5zZXJ0KGRiQ2FuZGlkYXRlRGF0YSlcbiAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgIC5zaW5nbGUoKTtcbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluc2VydGluZyBjYW5kaWRhdGU6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBmb3Igc3BlY2lmaWMgZXJyb3IgdHlwZXNcbiAgICAgIGlmIChlcnJvci5jb2RlID09PSAnMjM1MDInKSB7IC8vIG5vdF9udWxsX3Zpb2xhdGlvblxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIG1lc3NhZ2U6ICdNaXNzaW5nIHJlcXVpcmVkIGZpZWxkIGluIGRhdGFiYXNlJyxcbiAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBkZXRhaWxzOiBlcnJvclxuICAgICAgICB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJzIzNTA1JykgeyAvLyB1bmlxdWVfdmlvbGF0aW9uXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgbWVzc2FnZTogJ0EgY2FuZGlkYXRlIHdpdGggdGhpcyBpbmZvcm1hdGlvbiBhbHJlYWR5IGV4aXN0cycsXG4gICAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgZGV0YWlsczogZXJyb3JcbiAgICAgICAgfSwgeyBzdGF0dXM6IDQwOSB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gYWRkIGNhbmRpZGF0ZScsXG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICBkZXRhaWxzOiBlcnJvclxuICAgICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coXCJTdWNjZXNzZnVsbHkgYWRkZWQgY2FuZGlkYXRlIHdpdGggSUQ6XCIsIGRhdGEuaWQpO1xuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgbWVzc2FnZTogJ0NhbmRpZGF0ZSBhZGRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgY2FuZGlkYXRlSWQ6IGRhdGEuaWRcbiAgICB9KTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGNhbmRpZGF0ZSBBUEk6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBzdGFjazogZXJyb3Iuc3RhY2tcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59ICJdLCJuYW1lcyI6WyJnZXRTdXBhYmFzZUNsaWVudCIsIk5leHRSZXNwb25zZSIsIkdFVCIsInN1cGFiYXNlIiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwibWFwcGVkRGF0YSIsIm1hcCIsIml0ZW0iLCJpZCIsIm5hbWUiLCJlbWFpbCIsInBob25lIiwidW5kZWZpbmVkIiwicG9zaXRpb24iLCJza2lsbHMiLCJleHBlcmllbmNlIiwiZWR1Y2F0aW9uIiwicmVzdW1lIiwic3RhdHVzIiwibm90ZXMiLCJjcmVhdGVkQXQiLCJjcmVhdGVkX2F0IiwidXBkYXRlZEF0IiwidXBkYXRlZF9hdCIsImpzb24iLCJzdWNjZXNzIiwiY2FuZGlkYXRlcyIsImNvbnNvbGUiLCJQT1NUIiwicmVxdWVzdCIsImxvZyIsImNhbmRpZGF0ZURhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwicmVxdWlyZWRGaWVsZHMiLCJmaWVsZCIsIm1lc3NhZ2UiLCJBcnJheSIsImlzQXJyYXkiLCJwYXJzZSIsImUiLCJOdW1iZXIiLCJkYkNhbmRpZGF0ZURhdGEiLCJzY2hlbWFEYXRhIiwic2NoZW1hRXJyb3IiLCJsaW1pdCIsImRldGFpbHMiLCJpbnNlcnQiLCJzaW5nbGUiLCJjb2RlIiwiY2FuZGlkYXRlSWQiLCJzdGFjayJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/candidates/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase.ts":
/*!*****************************!*\
  !*** ./src/lib/supabase.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getSupabaseClient: () => (/* binding */ getSupabaseClient),\n/* harmony export */   initializeDatabase: () => (/* binding */ initializeDatabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n// For better debugging - log whether env vars are found\nif (false) {}\nif (false) {}\n// Create a Supabase client for server components\nconst getSupabaseClient = ()=>{\n    const supabaseUrl = \"https://wibrdgcgtqvzysktfowt.supabase.co\";\n    const supabaseKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndpYnJkZ2NndHF2enlza3Rmb3d0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDI4Mjg5MDksImV4cCI6MjA1ODQwNDkwOX0.VaSk8Dayp-XcpxYMqUM7L3PhEeHw5tYC0eTgiubIaJI\";\n    if (!supabaseUrl || !supabaseKey) {\n        throw new Error(`Missing Supabase credentials. URL: ${supabaseUrl ? 'OK' : 'MISSING'}, Key: ${supabaseKey ? 'OK' : 'MISSING'}`);\n    }\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseKey);\n};\n// Initialize Supabase schema - run this function at app startup\nconst initializeDatabase = async ()=>{\n    try {\n        const supabase = getSupabaseClient();\n        // Check if profiles table exists\n        const { error } = await supabase.from('profiles').select('id').limit(1);\n        if (error && error.code === '42P01') {\n            console.log('Creating profiles table...');\n            // Create profiles table\n            const { error: createError } = await supabase.rpc('create_profiles_table');\n            if (createError) {\n                console.error('Error creating profiles table:', createError);\n            } else {\n                console.log('Profiles table created successfully');\n            }\n        }\n    } catch (error) {\n        console.error('Error initializing database:', error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRDtBQUdyRCx3REFBd0Q7QUFDeEQsSUFBSSxLQUFxQyxFQUFFLEVBRTFDO0FBRUQsSUFBSSxLQUEwQyxFQUFFLEVBRS9DO0FBRUQsaURBQWlEO0FBQzFDLE1BQU1PLG9CQUFvQjtJQUMvQixNQUFNQyxjQUFjUCwwQ0FBb0M7SUFDeEQsTUFBTVEsY0FBY1Isa05BQXlDO0lBRTdELElBQUksQ0FBQ08sZUFBZSxDQUFDQyxhQUFhO1FBQ2hDLE1BQU0sSUFBSUMsTUFBTSxDQUFDLG1DQUFtQyxFQUFFRixjQUFjLE9BQU8sVUFBVSxPQUFPLEVBQUVDLGNBQWMsT0FBTyxXQUFXO0lBQ2hJO0lBRUEsT0FBT1QsbUVBQVlBLENBQVdRLGFBQWFDO0FBQzdDLEVBQUU7QUFFRixnRUFBZ0U7QUFDekQsTUFBTUUscUJBQXFCO0lBQ2hDLElBQUk7UUFDRixNQUFNQyxXQUFXTDtRQUVqQixpQ0FBaUM7UUFDakMsTUFBTSxFQUFFRixLQUFLLEVBQUUsR0FBRyxNQUFNTyxTQUFTQyxJQUFJLENBQUMsWUFBWUMsTUFBTSxDQUFDLE1BQU1DLEtBQUssQ0FBQztRQUVyRSxJQUFJVixTQUFTQSxNQUFNVyxJQUFJLEtBQUssU0FBUztZQUNuQ1osUUFBUWEsR0FBRyxDQUFDO1lBRVosd0JBQXdCO1lBQ3hCLE1BQU0sRUFBRVosT0FBT2EsV0FBVyxFQUFFLEdBQUcsTUFBTU4sU0FBU08sR0FBRyxDQUFDO1lBRWxELElBQUlELGFBQWE7Z0JBQ2ZkLFFBQVFDLEtBQUssQ0FBQyxrQ0FBa0NhO1lBQ2xELE9BQU87Z0JBQ0xkLFFBQVFhLEdBQUcsQ0FBQztZQUNkO1FBQ0Y7SUFDRixFQUFFLE9BQU9aLE9BQU87UUFDZEQsUUFBUUMsS0FBSyxDQUFDLGdDQUFnQ0E7SUFDaEQ7QUFDRixFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvcmhnbTQvRG9jdW1lbnRzL0dpdEh1Yi9DYW5kaWRhdGVzLlJIRy9zcmMvbGliL3N1cGFiYXNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5pbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gJy4uL3R5cGVzL2RhdGFiYXNlJztcblxuLy8gRm9yIGJldHRlciBkZWJ1Z2dpbmcgLSBsb2cgd2hldGhlciBlbnYgdmFycyBhcmUgZm91bmRcbmlmICghcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIGVudmlyb25tZW50IHZhcmlhYmxlJyk7XG59XG5cbmlmICghcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkpIHtcbiAgY29uc29sZS5lcnJvcignTWlzc2luZyBORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSBlbnZpcm9ubWVudCB2YXJpYWJsZScpO1xufVxuXG4vLyBDcmVhdGUgYSBTdXBhYmFzZSBjbGllbnQgZm9yIHNlcnZlciBjb21wb25lbnRzXG5leHBvcnQgY29uc3QgZ2V0U3VwYWJhc2VDbGllbnQgPSAoKSA9PiB7XG4gIGNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xuICBjb25zdCBzdXBhYmFzZUtleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZO1xuICBcbiAgaWYgKCFzdXBhYmFzZVVybCB8fCAhc3VwYWJhc2VLZXkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgU3VwYWJhc2UgY3JlZGVudGlhbHMuIFVSTDogJHtzdXBhYmFzZVVybCA/ICdPSycgOiAnTUlTU0lORyd9LCBLZXk6ICR7c3VwYWJhc2VLZXkgPyAnT0snIDogJ01JU1NJTkcnfWApO1xuICB9XG4gIFxuICByZXR1cm4gY3JlYXRlQ2xpZW50PERhdGFiYXNlPihzdXBhYmFzZVVybCwgc3VwYWJhc2VLZXkpO1xufTtcblxuLy8gSW5pdGlhbGl6ZSBTdXBhYmFzZSBzY2hlbWEgLSBydW4gdGhpcyBmdW5jdGlvbiBhdCBhcHAgc3RhcnR1cFxuZXhwb3J0IGNvbnN0IGluaXRpYWxpemVEYXRhYmFzZSA9IGFzeW5jICgpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdXBhYmFzZSA9IGdldFN1cGFiYXNlQ2xpZW50KCk7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgcHJvZmlsZXMgdGFibGUgZXhpc3RzXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbSgncHJvZmlsZXMnKS5zZWxlY3QoJ2lkJykubGltaXQoMSk7XG4gICAgXG4gICAgaWYgKGVycm9yICYmIGVycm9yLmNvZGUgPT09ICc0MlAwMScpIHsgIC8vIFwicmVsYXRpb24gZG9lcyBub3QgZXhpc3RcIiBQb3N0Z3JlcyBlcnJvclxuICAgICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIHByb2ZpbGVzIHRhYmxlLi4uJyk7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBwcm9maWxlcyB0YWJsZVxuICAgICAgY29uc3QgeyBlcnJvcjogY3JlYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnY3JlYXRlX3Byb2ZpbGVzX3RhYmxlJyk7XG4gICAgICBcbiAgICAgIGlmIChjcmVhdGVFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBwcm9maWxlcyB0YWJsZTonLCBjcmVhdGVFcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZygnUHJvZmlsZXMgdGFibGUgY3JlYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIGRhdGFiYXNlOicsIGVycm9yKTtcbiAgfVxufTsgIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJjb25zb2xlIiwiZXJyb3IiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImdldFN1cGFiYXNlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJzdXBhYmFzZUtleSIsIkVycm9yIiwiaW5pdGlhbGl6ZURhdGFiYXNlIiwic3VwYWJhc2UiLCJmcm9tIiwic2VsZWN0IiwibGltaXQiLCJjb2RlIiwibG9nIiwiY3JlYXRlRXJyb3IiLCJycGMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcandidates%2Froute&page=%2Fapi%2Fcandidates%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcandidates%2Froute.ts&appDir=%2FUsers%2Frhgm4%2FDocuments%2FGitHub%2FCandidates.RHG%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frhgm4%2FDocuments%2FGitHub%2FCandidates.RHG&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();